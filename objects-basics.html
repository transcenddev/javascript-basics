<!DOCTYPE html>
<html>
  <head>
    <title>JavaScript Objects Basics</title>
  </head>
  <body>
    <h1>JavaScript Objects Basics</h1>
    <script>
      // let user = {
      //   name: "John", // by key "name" store value "John"
      //   age: 30, // by key "age" store value 30
      //   isAdmin: true, // by key "isAdmin" store value true
      // };

      // // get property values of the object:
      // alert(user.name); // John
      // alert(user.age); // 30
      // alert(user.isAdmin); // true

      // let john = { name: "John", age: 25 };
      // let pete = { name: "Pete", age: 30 };
      // let mary = { name: "Mary", age: 28 };

      // let users = [john, pete, mary];

      // // convert into array of names
      // let names = users.map(user => user.name);

      // alert(names); // John, Pete, Mary

      // let john = { name: "John", surname: "Smith", id: 1 };
      // let pete = { name: "Pete", surname: "Hunt", id: 2 };
      // let mary = { name: "Mary", surname: "Key", id: 3 };

      // let users = [john, pete, mary];

      // // how can i map one array of objects to another?
      // let usersMapped = users.map((user) => ({
      //   fullName: `${user.name} ${user.surname}`,
      //   id: user.id,
      // }));

      // /*
      // usersMapped = [
      //   { fullName: "John Smith", id: 1 },
      //   { fullName: "Pete Hunt", id: 2 },
      //   { fullName: "Mary Key", id: 3 }
      // ]
      // */

      // alert(usersMapped[0].id); // 1
      // alert(usersMapped[0].fullName); // John Smith

      // function sortByAge(arr) {
      //   arr.sort((a, b) => a.age - b.age);
      // }

      // let john = { name: "John", age: 25 };
      // let pete = { name: "Pete", age: 30 };
      // let mary = { name: "Mary", age: 28 };

      // let arr = [pete, john, mary];

      // sortByAge(arr);

      // // now: [john, mary, pete]
      // alert(arr[0].name); // John
      // alert(arr[1].name); // Mary
      // alert(arr[2].name); //

      // function getAverageAge(arr) {
      //   return arr.reduce((sum, user) => sum + user.age, 0) / arr.length;
      // }

      // let john = { name: "John", age: 25 };
      // let pete = { name: "Pete", age: 30 };
      // let mary = { name: "Mary", age: 29 };

      // let arr = [john, pete, mary];

      // alert(getAverageAge(arr)); // (25 + 30 + 29) / 3 = 28

      function groupById(arr) {
        return arr.reduce((accumulator, user) => {
          accumulator[user.id] = user;
          return accumulator;
        }, {});
      }

      // Test the function
      let users = [
        { id: "john", name: "John Smith", age: 20 },
        { id: "ann", name: "Ann Smith", age: 24 },
        { id: "pete", name: "Pete Peterson", age: 31 },
      ];

      let usersById = groupById(users);
      console.log(usersById);

      console.log(usersById.john); // {id: 'john', name: "John Smith", age: 20}
      console.log(usersById.ann.age); // 24
      console.log(usersById.pete.name); // "Pete Peterson"
    </script>
  </body>
</html>
